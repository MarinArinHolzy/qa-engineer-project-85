---
- summary: |
    Проверка создания игры без регистрации
  requirement: |
    Без регистрации на сайте возможно получить доступ к прохождению игры (бот в качестве соперника, задание выдается рандомно)
  prerequisites: |
    Пользователь не авторизован
  test-data: |
    no-data
  steps:
    - Нажать кнопку "TRY SIMPLE BATTLE"
  expected-result: |
    Игра без регистрации успешно создана

- summary: |
    Проверка успешной регистрации
  requirement: |
    При заполнении формы валдиными данными пользователь успешно регистрируется
  prerequisites: |
    no-data
  test-data: |
    no-data
  steps:
    - Нажать кнопку "Sign up"
    - Заполнить поля формы регистрации
    - Нажать кнопку "Submit"
  expected-result: |
    Пользователь успешно зарегистрирован

- summary: |
    Проверка регистрации с уже занятым ником
  requirement: |
    Поле Nickname формы регистрации проверяется на уникальность, нельзя зарегистрировать нового пользователя, дублирующего существующего пользователя
  prerequisites: |
    no-data
  test-data: |
    Nickname: Neo
  steps:
    - Нажать кнопку "Sign up"
    - Заполнить поля формы регистрации, указав значение поля Nickname "Neo"
    - Нажать кнопку "Submit"
  expected-result: |
    Пользователь не зарегистрирован

- summary: |
    Проверка регистрации с уже занятым Email
  requirement: |
    Поле Email формы регистрации проверяется на уникальность, нельзя зарегистрировать нового пользователя, дублирующего существующего пользователя
  prerequisites: |
    no-data
  test-data: |
    Email: bro@mail.ru
  steps:
    - Нажать кнопку "Sign up"
    - Заполнить поля формы регистрации, указав значение поля Email "bro@mail.ru"
    - Нажать кнопку "Submit"
  expected-result: |
    Пользователь не зарегистрирован

- summary: |
    Проверка успешной авторизации
  requirement: |
    Заполнив поля в форме авторизации, пользователь попадает на страницу игрового пространства
  prerequisites: |
    Регистрация успешно пройдена
  test-data: |
    Email: kleo@mail.ru, Password: 12345678
  steps:
    - Нажать кнопку "Sign in"
    - Ввести Email
    - Ввести Password
    - Нажать кнопку "Submit"
  expected-result: |
    Пользователь успешно авторизован

- summary: |
    Проверка получения письма с восстановлением пароля
  requirement: |
    Воспользовавшись функцией восстановления забытого пароля, можно получить доступ к аккаунту
  prerequisites: |
    Пользователь ранее зарегистрирован
  test-data: |
    no-data
  steps:
    - Нажать кнопку "Sign in"
    - Перейти по "Forgot your password?"
    - Ввести Email, указанный при регистрации
    - Нажать кнопку "Submit"
  expected-result: |
    На указанный email приходит и отображается письмо о восстановлении пароля

- summary: |
    Проверка создания игры с ботом
  requirement: |
    При создании игры с ботом можно настроить параметры игры и попасть на страницу прохождения игры
  prerequisites: |
    Авторизация успешна
  test-data: |
    no-data
  steps:
    - Нажать кнопку "CREATE A GAME"
    - Выбрать Game Type "With a bot"
    - Нажать кнопку "Create battle"
  expected-result: |
    Игра с ботом успешно создана

- summary: |
    Проверка создания игры с другом
  requirement: |
    При создании игры в формате "с другом" появляется уведомление о приглашении в игру (числовой индикатор на иконке "мечи" в верхней правой части экрана)
  prerequisites: |
    Друг успешно авторизован
  test-data: |
    друг - Email: kleo@mail.ru, Password: 12345678, Nickname: Kleo
  steps:
    - Нажать кнопку "CREATE A GAME"
    - Выбрать Game Type "With a friend"
    - Выбрать имя друга в выпадающем списке Choose opponent (Nickname "Kleo")
    - Нажать кнопку "Create invite"
    - Друг принимает приглашение (числовой индикатор на иконке "мечи" в верхней правой части экрана)
  expected-result: |
    Игра с другом успешно создана

- summary: |
    Проверка создания игры с произвольным игроком
  requirement: |
    Созданная игра без назначенного противника отображается в списке доступных к прохождению игр (LOBBY), другой игрок может принять участие в этой игре
  prerequisites: |
    Авторизация успешна
  test-data: |
    no-data
  steps:
    - Нажать кнопку "CREATE A GAME"
    - Создать игру Game Type "With other user"
    - Нажать кнопку "Create battle"
  expected-result: |
    Созданная игра отображается в списке "Lobby" в ожидании второго игрока

- summary: |
    Проверка перехода в игру, ожидающую оппонента
  requirement: |
    Возможно принять участие в игре, которая отображается в статусе ожидания оппонента в списке LOBBY
  prerequisites: |
    Авторизация успешна
  test-data: |
    no-data
  steps:
    - Нажать кнопку "Fight", выбрав игру в списке LOBBY
  expected-result: |
    Игра с другим пользователем успешно начинается

- summary: |
    Проверка возврата в активную игру
  requirement: |
    При случайном выходе из активной игры возможно вернуться и продолжить решение задачи, пока игра не завершена
  prerequisites: |
    Авторизация успешна
  test-data: |
    no-data
  steps:
    - Создать игру с ботом
    - Нажать кнопку "Back to Home", чтобы покинуть игру
    - Увидеть, что игра отображается в списке LOBBY в статусе активной
    - Нажать кнопку "Continue" для возврата к игре
  expected-result: |
    Происходит возврат в активную игру

- summary: |
    Проверка отправки сообщения в чат в активной игре
  requirement: |
    На странице прохождения игры отображается чат, отправка сообщения работает
  prerequisites: |
    Авторизация успешна, игра создана и активна
  test-data: |
    no-data
  steps:
    - Написать в поле отправки сообщения слово "Hello"
    - Нажать кнопку "Send"
  expected-result: |
    Отправленное сообщение отображается в чате

- summary: |
    Проверка одновременного участия в двух играх
  requirement: |
    Пока не завершена текущая активная игра, нельзя принять участие в другой игре
  prerequisites: |
    Авторизация успешна
  test-data: |
    no-data
  steps:
    - Перейти в любую игру из списка LOBBY, нажав кнопку "Fight"
    - Вернуться из текущей активной игры к списку LOBBY, нажав кнопку "Back to Home"
    - Нажать кнопку "Fight" у любой игры из списка LOBBY
  expected-result: |
    В доступе ко второй игре отказано (плашка "already_in_a_game")
